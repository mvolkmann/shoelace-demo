<html class="sl-theme-light">
  <head>
    <title>Shoelace Demo</title>

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.14.0/cdn/themes/light.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.14.0/cdn/themes/dark.css"
    />
    <!-- <link rel="stylesheet" href="/shoelace/themes/dark.css" /> -->
    <!-- <link rel="stylesheet" href="/shoelace/themes/light.css" /> -->
    <link rel="stylesheet" href="styles.css" />

    <script
      defer
      src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"
    ></script>
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.13.1/cdn/shoelace-autoloader.js"
      type="module"
    ></script>
    <!-- <script src="/shoelace/shoelace-autoloader.js" type="module"></script> -->

    <script src="reload.js"></script>

    <script defer>
      const state = {
        nfl: {
          league: 'AFC',
          division: 'West',
          team: 'Kansas City Chiefs'
        },
        prefersDark: window.matchMedia('(prefers-color-scheme: dark)').matches,
        setPrefersDark(prefersDark) {
          this.prefersDark = prefersDark;
        },
        toggleCount: 0
      };

      const getState = () => state;

      // document.addEventListener('alpine:init', () => {
      //   Alpine.data('state', () => state);
      // });

      window
        .matchMedia('(prefers-color-scheme: dark)')
        .addEventListener('change', event => {
          // state.prefersDark = event.matches;
          setPrefersDark(event.matches);
          updateMode();
        });

      function configureWatches(watch) {
        watch('prefersDark', updateMode);
      }

      function updateMode() {
        const el = document.documentElement;
        if (state.prefersDark) {
          el.classList.add('sl-theme-dark');
        } else {
          el.classList.remove('sl-theme-dark');
        }
      }

      updateMode();

      function toggleAlert() {
        const alert = document.querySelector('sl-alert');
        console.log('index.html: alert =', alert);
        if (alert.hasAttribute('open')) {
          alert.removeAttribute('open');
        } else {
          alert.setAttribute('open', '');
        }
      }
    </script>
  </head>
  <body x-data="getState()" x-init="configureWatches($watch)">
    <div class="row">
      <sl-button hx-get="/version" hx-target="#version">
        Get Bun Version
      </sl-button>
      <div id="version"></div>
    </div>
    <hr />
    <div>
      <sl-tooltip content="This toggles the display of an alert.">
        <sl-button @click="toggleCount++; toggleAlert()">
          Toggle Alert
          <sl-badge pill x-text="toggleCount"></sl-badge>
        </sl-button>
      </sl-tooltip>
      <sl-alert closable>
        <sl-icon slot="icon" name="info-circle"></sl-icon>
        This is a standard alert. You can customize its content and even the
        icon.
      </sl-alert>
    </div>
    <hr />
    <div>
      <sl-animation name="swing" easing="ease-in-out" duration="1000" play>
        <div class="box">Wake Up!</div>
      </sl-animation>
    </div>
    <hr />
    <div>
      <sl-avatar initials="MV" label="Mark Volkmann"></sl-avatar>
      <sl-avatar label="Archive">
        <sl-icon name="archive" slot="icon"></sl-icon>
      </sl-avatar>
      <sl-avatar
        image="/Boston2013.png"
        label="Boston Marathon 2013"
      ></sl-avatar>
    </div>
    <hr />
    <div>
      <sl-breadcrumb>
        <sl-breadcrumb-item>NFL</sl-breadcrumb-item>
        <sl-breadcrumb-item>
          <span x-text="nfl.league"></span>
          <sl-dropdown slot="suffix">
            <sl-button slot="trigger" size="small" circle>
              <sl-icon label="More options" name="three-dots"></sl-icon>
            </sl-button>
            <sl-menu @sl-select="nfl.league = $event.detail.item.textContent">
              <sl-menu-item type="checkbox" checked>AFC</sl-menu-item>
              <sl-menu-item type="checkbox">NFC</sl-menu-item>
            </sl-menu>
          </sl-dropdown>
        </sl-breadcrumb-item>
        <sl-breadcrumb-item>
          <span x-text="nfl.division"></span>
          <sl-dropdown slot="suffix">
            <sl-button slot="trigger" size="small" circle>
              <sl-icon label="More options" name="three-dots"></sl-icon>
            </sl-button>
            <sl-menu @sl-select="nfl.division = $event.detail.item.textContent">
              <sl-menu-item type="checkbox">East</sl-menu-item>
              <sl-menu-item type="checkbox">North</sl-menu-item>
              <sl-menu-item type="checkbox">South</sl-menu-item>
              <sl-menu-item type="checkbox" checked>West</sl-menu-item>
            </sl-menu>
          </sl-dropdown>
        </sl-breadcrumb-item>
        <sl-breadcrumb-item>
          <span x-text="nfl.team"></span>
          <sl-dropdown slot="suffix">
            <sl-button slot="trigger" size="small" circle>
              <sl-icon label="More options" name="three-dots"></sl-icon>
            </sl-button>
            <sl-menu @sl-select="nfl.team = $event.detail.item.textContent">
              <!-- TODO: Use htmx to get the menu items for the selected league and division. -->
              <sl-menu-item type="checkbox">Denver Broncos</sl-menu-item>
              <sl-menu-item type="checkbox" checked
                >Kansas City Chiefs</sl-menu-item
              >
              <sl-menu-item type="checkbox">Las Vegas Raiders</sl-menu-item>
              <sl-menu-item type="checkbox">Los Angeles Chargers</sl-menu-item>
            </sl-menu>
          </sl-dropdown>
        </sl-breadcrumb-item>
      </sl-breadcrumb>
    </div>
    <hr />
    <div>
      <sl-button-group label="Alignment">
        <sl-button>Left</sl-button>
        <sl-button>Center</sl-button>
        <sl-button>Right</sl-button>
      </sl-button-group>
    </div>
    <hr />
    <sl-card class="card-demo">
      <img
        slot="image"
        src="https://images.unsplash.com/photo-1559209172-0ff8f6d49ff7?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=80"
        alt="A kitten sits patiently between a terracotta pot and decorative grasses."
      />

      <strong>Mittens</strong><br />
      This kitten is as cute as he is playful. Bring him home today!<br />
      <small>6 weeks old</small>

      <div slot="footer">
        <sl-button variant="primary" pill>More Info</sl-button>
        <sl-rating></sl-rating>
      </div>
    </sl-card>
    <sl-card class="my-card">
      <img slot="image" alt="Boston 2013" src="boston2013.png" />
      <div slot="header">This will appear in the header.</div>
      This will appear in the default slot.
      <div slot="footer">This will appear in the footer.</div>
    </sl-card>

    <style>
      .card-overview {
        max-width: 300px;
      }

      .card-overview small {
        color: var(--sl-color-neutral-500);
      }

      .card-overview [slot='footer'] {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
    </style>

    <div>
      <sl-switch
        size="large"
        :checked="prefersDark"
        @sl-change="prefersDark = $event.target.checked"
      >
        Dark Mode
      </sl-switch>
    </div>

    <!-- <form class="input-validation-required">
      <sl-input name="name" label="Name" required></sl-input>
      <br />
      <sl-select label="Favorite Animal" clearable required>
        <sl-option value="birds">Birds</sl-option>
        <sl-option value="cats">Cats</sl-option>
        <sl-option value="dogs">Dogs</sl-option>
        <sl-option value="other">Other</sl-option>
      </sl-select>
      <br />
      <sl-textarea name="comment" label="Comment" required></sl-textarea>
      <br />
      <sl-checkbox required>Check me before submitting</sl-checkbox>
      <br /><br />
      <sl-button type="submit" variant="primary">Submit</sl-button>
    </form> -->
  </body>
</html>
